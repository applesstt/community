extends layout/layout
block css_content
  link(rel = 'stylesheet', href = 'vendor/wysihtml5/css/stylesheet.css')
block content
  form#post-form(method = 'post', enctype = 'multipart/form-data')
    .form-group
      input.form-control(name='title', id='post_title', placeholder='标题')
    .form-group
      #wysihtml5-editor-toolbar
        header
          ul.commands
            - each command in [{command:'bold'},{command:'italic'},{command:'insertUnorderedList'},{command:'insertOrderedList'},{command:'createLink'},{command:'insertImage'},{command:'formatBlock',value:'h1'},{command:'formatBlock',value:'h2'}]
              - if(command.value)
                li.command(data-wysihtml5-command=command.command,data-wysihtml5-command-value=command.value)
              - else
                li.command(data-wysihtml5-command=command.command)
            li.action(data-wysihtml5-action = 'change_view')
        div(data-wysihtml5-dialog = 'createLink', style = 'display: none;')
          label Link:
            input(data-wysihtml5-dialog-field = 'href', value = 'http://')
          a(data-wysihtml5-dialog-action = 'save') OK
          a(data-wysihtml5-dialog-action = 'cancel') Cancel
        div(data-wysihtml5-dialog = 'insertImage', style = 'display: none;')
          input#upload-image(name='upload-image', type='file', value='上传图片')
          lavel Image:
            input#image_path(data-wysihtml5-dialog-field = 'src', value = 'http://')
          a(data-wysihtml5-dialog-action = 'save') OK
          a(data-wysihtml5-dialog-action = 'cancel') Cancel
        section
         textarea(id = 'wysihtml5-editor', name = 'post', spellcheck = 'false', wrap = 'off', placeholder = '写内容...')
    .text-right
      input#post-submit.btn.btn-primary.btn-lg(type = 'submit', value='发布')
block js_content
  script(src = 'vendor/wysihtml5/parser_rules/advanced.js')
  script(src = 'vendor/wysihtml5/dist/wysihtml5-0.3.0.js')
  script(src = 'vendor/ajaxForm/jquery.form.js')
  script(src = 'js/post.js')